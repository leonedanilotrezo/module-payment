define(["underscore","jquery","ko","Magento_Vault/js/view/payment/method-renderer/vault","Magento_Checkout/js/model/full-screen-loader","Magento_Checkout/js/model/quote","Magento_Checkout/js/action/get-totals","Dholi_Payment/js/checkout"],function(d,f,c,h,b,a,g,e){return h.extend({placeOrderTotalOrderAmount:c.pureComputed(function(){return e.placeOrderTotalOrderAmount()}),initialize:function(){let self=this;self._super();e.setCode(this.getParentCode());a.paymentMethod.subscribe(function(){if(a.paymentMethod()&&a.paymentMethod().method===self.getId()){self.getInstallments()}},null,"change")},getMaskedCard:function(){return this.details.maskedCC},getExpirationDate:function(){return this.details.expirationDate},getCardType:function(){return this.details.type},getParentCode:function(){return this.parentCode},getToken:function(){return this.publicHash},getIcons:function(i){return this.details.icon},getTotalOrderAmountForInstallments:function(){return e.getTotalOrderAmountForInstallments()},getTotalOrderAmount:function(){return e.getTotalOrderAmount()},getShippingAmount:function(){return e.getShippingAmount()},getPaymentUrl:function(){return e.getPaymentUrl()},getFirstInstallmentAmount:function(){return e.getFirstInstallmentAmount()},getTotalInstallments:function(){return e.getTotalInstallments()},getMinInstallment:function(){return e.getMinInstallment()},getPercentualDiscount:function(){return e.getPercentualDiscount()},getInstallmentsUrl:function(){return e.getInstallmentsUrl()},reloadTotals:function(){let self=this;b.startLoader();f.ajax({dataType:"json",method:"POST",data:{"payment[method]":self.getParentCode(),"payment[cc_installments]":f("#".concat(self.getId()).concat("_installments")).val(),"payment[shipping_amount]":self.getShippingAmount()},url:self.getPaymentUrl(),context:document.body}).done(function(i){g([],f.Deferred())}).fail().always(function(){b.stopLoader()})}})});